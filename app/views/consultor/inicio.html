<div class="fixed-action-btn venda">
	<a ng-click="modalVenda()" class="btn-floating btn-large fundoBranco waves-effect waves-light tooltipped " data-position="left" data-delay="100" data-tooltip="Vender!">
		<i class="large material-icons textoAmarelo">attach_money</i>
	</a>
</div>

<div class="row" ng-show="usuario.status!=='Aprovado'">
	<div class="col s12 m12">
		<div class="card center-align red">
			<div class="card-content">
				<h5>Aguardando aprovação</h5>                 
			</div>
		</div>
	</div>
</div>
<span ng-if="usuario.status==='Aprovado'">
	<div ng-if="brinde.campanha==='mil'" class="row" id="brindeMil">
		<div class="col s12 m8 offset-m2">
			<div class="card notificacaoBoa center-align">
				<div class="card-content">
					<span class="card-title">Parabéns!</span>
					<p>Você altingiu</p>
					<h1>R$1.000</h1>
					<p>em vendas!</p>
				</div>
				<div class="card-action">
					<a class="waves-effect waves-light btn" ng-click="modalBrinde()"><i class="material-icons left">card_giftcard</i>Pegar brinde!</a>
				</div>
			</div>
		</div>
	</div>
	<div ng-if="brinde.campanha==='maleta'" class="row" id="brindeMil">
		<div class="col s12 m8 offset-m2">
			<div class="card notificacaoBoa center-align">
				<div class="card-content">
					<span class="card-title">Parabéns!</span>
					<p>Você altingiu</p>
					<h1>R$1.500</h1>
					<p>em vendas!</p>
				</div>
				<div class="card-action">
					<a class="waves-effect waves-light btn" ng-click="pedeMaleta()"><i class="material-icons left">card_giftcard</i>Solicitar Maleta!</a>
				</div>
			</div>
		</div>
	</div>
	<div class="row" >
		<div class="col s12 m8 offset-m2">
			<div class="card center-align fundoAmarelo ">
				<div class="card-content">
					<span class="card-title">Estoque</span>
					<h1>{{usuario.vendido.length}} / {{usuario.estoque.length + usuario.vendido.length}}</h1>
				</div>
				<div class="card-action">
                    <a class="waves-effect waves-light btn" ui-sref="Estoque">Ver detalhes</a>
                    <a class="waves-effect waves-light btn" ng-click="modalTroca()"><i class="material-icons left">import_export</i>Trocar peça</a>
                </div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col s12 m12">
			<div class="card center-align fundoAmarelo" ng-if="usuario.taxa>0">
				<div class="card-content">
					<span class="card-title">Taxa de entrada:{{usuario.taxa | currency:'R$'}} ({{usuario.tipoTaxa}})</span>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col s12 m12">
			<div class="card center-align fundoAmarelo">
				<div class="card-content">
				<span class="card-title">Personalizados</span>
					<div class="row">
						<div class="col s12 m3" ng-repeat="encomenda in encomendas | orderBy: '-createdAt' | filter:filtroStatus">
							<div class="card center-align z-depth-5" >
								<div class="card-content">
									<span class="card-title">{{encomenda.detalhes}}<br>
										<div class="chip tooltipped">
											{{encomenda.createdAt | date: "d/MM/yy"}}</span>
										</div>
										<button class="btn" ng-click="vendaPersonalizado(encomenda)" ng-disabled="encomenda.status!='Enviada'">Entregar</button>
									</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col s12 m12">
			<div class="card center-align fundoAmarelo">
				<div class="card-content">
				<span class="card-title">Vendas</span>
					<h4></h4>
					<h1>{{usuario.totalVendido | currency: 'R$'}}</h1>
					<div class="row">
						<div class="col s12 m6">
							<div class="card center-align fundoAmarelo">
								<div class="card-content">
									<span class="card-title">Minha parte</span>
									<h4>{{(usuario.totalVendido * usuario.porcentagem)/100 | currency: 'R$'}}</h4>
								</div>
							</div>
						</div>
						<div class="col s12 m6">
							<div class="card center-align fundoAmarelo">
								<div class="card-content">
									<span class="card-title">A pagar</span>
									<h4>{{usuario.totalVendido - (usuario.totalVendido * usuario.porcentagem)/100| currency: 'R$'}}</h4>
								</div>
							</div>
						</div>
					</div>
					<h5>Próximo Acerto em {{ faltamDias(usuario.proxAcerto)}} dias! <br>
						{{usuario.proxAcerto | date: "d/MM/yy"}}
					</h5>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col s12 m8 offset-m2">
			<div class="card center-align fundoAmarelo ">
				<div class="card-content">
					<span class="card-title">Meu supervisor</span>
					<table class="responsive-table">
						<thead>
						<tr>
							<th data-field="nome">Nome</th>
							<th data-field="whatsapp">Whatsapp</th>
						</tr>
						</thead>

						<tbody>
						<tr>
							<td>{{supervisor.nome}}</td>
							<td>{{supervisor.whatsapp}}</td>
						</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>

</span>



<div id="venda" class="modal bottom-sheet modal-fixed-footer">
    <div class="modal-content center-align">
        <form ng-submit="entrada()" id="entradaForm">
            <div class="input-field col m8 s12 offset-m2">
				<a id="cameraBotao" class="waves-effect waves-teal btn-flat btn-large textoAmarelo right" ng-click="entradaCamera()"><i class="material-icons">camera_alt</i></a>
                <input placeholder="Código" id="codigo" type="text" ng-model="codigo" style="text-transform:uppercase"  pattern="[A-Za-z]{2}[0-9]{3,6}" title="Código inválido" required>
				<div class="chip" ng-repeat="codigo in adicionando track by $index">
					{{codigo}}
					<i class="right material-icons clicavel" ng-click="deletaElemento(adicionando, $index)">close</i>
				</div>
                <br><button type="submit" class="btn-floating btn-large waves-effect waves-light botaoAmarelo"><i class="material-icons">add</i></button>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <a class="waves-effect waves-light btn" ng-click="vender()" ng-class="{'disabled': adicionando.length<=0}"><i class="material-icons left">done</i>Concluir</a>
        <a class="waves-effect waves-light btn-flat modal-close" ><i class="material-icons left">close</i>Cancelar</a>
    </div>
</div>

<div id="modalCamera" class="modal modal-fixed-footer">
	<div class="modal-content">
		<div id="camera"></div>
	</div>
	<div class="modal-footer center-align">
		<a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat" ng-click="fechaCamera()">Cancelar</a>
	</div>
</div>

<div id="brinde" class="modal bottom-sheet">
    <div class="modal-content center-align">
        <form ng-submit="pegaBrinde()" id="brindeForm">
            <div class="input-field col m8 s12 offset-m2">
				<!--<a id="cameraBotao" class="waves-effect waves-teal btn-flat btn-large textoAmarelo right" ng-click="entradaCamera()"><i class="material-icons">camera_alt</i></a>-->
                <input placeholder="Código" id="codigoBrinde" type="text" ng-model="codigoBrinde" style="text-transform:uppercase"  pattern="[A-Za-z]{2}[0-9]{3,6}" title="Código inválido" required>
				<br><button type="submit" class="btn-floating btn-large waves-effect waves-light botaoAmarelo"><i class="material-icons">card_giftcard</i></button>
            </div>
        </form>
    </div>
</div>

<div id="troca" class="modal bottom-sheet">
    <div class="modal-content center-align">
        <form ng-submit="trocaPeca()" id="trocaForm">
            <div class="input-field col m8 s12 offset-m2">
				<!--<a id="cameraBotao" class="waves-effect waves-teal btn-flat btn-large textoAmarelo right" ng-click="entradaCamera()"><i class="material-icons">camera_alt</i></a>-->
                <input placeholder="Peça com defeito" id="codigoDefeito" type="text" ng-model="troca.pecaDefeito" style="text-transform:uppercase"  pattern="[A-Za-z]{2}[0-9]{3,6}" title="Código inválido" required>
                <input placeholder="Peça nova" id="codigoNova" type="text" ng-model="troca.pecaNova" style="text-transform:uppercase"  pattern="[A-Za-z]{2}[0-9]{3,6}" title="Código inválido" required>
            </div>
			<div class="input-field">
				<select id="defeito" ng-model="troca.defeito" required>
					<option value="" disabled selected>Qual é o defeito?</option>
					<option value="Banho">Banho</option>
					<option value="Bruto">Bruto</option>
				</select>
			</div>
			<div class="input-field col m8 s12 offset-m2">
				<input placeholder="Observações (opcional)" type="text" ng-model="troca.obs">
			</div>
			<button type="submit" class="btn-floating btn-large waves-effect waves-light botaoAmarelo"><i class="material-icons">import_export</i></button>
        </form>
    </div>
</div>